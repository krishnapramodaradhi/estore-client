<div class="container">
  <h4>Manage Products</h4>
  <div class="row">
    <div class="col-6">
      <hr>
      <ngb-alert *ngIf="alertMessage" [type]="alertType">{{ this.alertMessage }}</ngb-alert>
      <form [formGroup]="form" (submit)="createOrUpdateProduct()">
        <div class="form-group">
          <label for="title">Title</label>
          <input id="title" type="text" class="form-control" formControlName="title">
        </div>
        <div class="form-group">
          <label for="price">Price</label>
          <input id="price" type="number" class="form-control" formControlName="price">
        </div>
        <div class="form-group">
          <label for="category">Category</label>
          <select id="category" type="text" class="form-control" formControlName="category">
            <option value="">Select a Category</option>
            <option *ngFor="let c of categories$ | async" [value]="c.id">{{ c.name }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="imgUrl">Image Url</label>
          <input id="imgUrl" type="text" class="form-control" formControlName="imageUrl">
        </div>
        <button *ngIf="!id" class="btn btn-outline-primary">Add</button>
        <button *ngIf="id" class="btn btn-outline-dark">Update</button>
        <button *ngIf="id" (click)="deleteProduct()" class="btn btn-outline-danger">Delete</button>
      </form>
    </div>
    <div class="col-6">
      <div class="margin">
        <div class="card" style="width: 20rem;" *ngIf="this.form.value.title">
          <img class="card-img-top" [src]="this.form.value.imageUrl" [alt]="this.form.value.title">
          <div class="card-body">
            <h2 class="card-title">{{ this.form.value.title }}</h2>
            <p class="card-text">{{ this.form.value.price | currency:'INR' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
